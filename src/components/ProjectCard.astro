---
import type { Project } from "@/data/projects";

type Props = Project & {
  index: number;
};

const { title, techs, link, index } = Astro.props;

const formatTechs = (values: string[]) =>
	values.toString().replaceAll(",", " / ");

const num = String(index + 1).padStart(2, "0");
---

<a href={link} target="_blank" rel="noopener" class="project-item">
  <span class="project-num">{num}</span>
  <span class="project-info">
    <span class="project-name">{title}</span>
    <span class="project-stack">{formatTechs(techs)}</span>
  </span>
</a>

<style>
  .project-item {
    display: flex; align-items: baseline; gap: 16px;
    padding: 18px 0; border-bottom: 1px solid var(--text-rule);
    text-decoration: none; color: inherit; transition: all 0.25s;
  }
  .project-item:last-child { border-bottom: none; }
  .project-item:hover {
    padding-left: 12px;
    background: linear-gradient(90deg, var(--accent-glow), transparent 60%);
  }
  .project-num {
    font-family: var(--font-mono); font-size: 14px;
    color: var(--text-label); min-width: 32px;
  }
  .project-info {
    flex: 1; display: flex; align-items: baseline;
    justify-content: space-between; gap: 12px; flex-wrap: wrap;
  }
  .project-name { font-size: 24px; font-weight: 500; color: var(--text); }
  .project-stack {
    font-family: var(--font-mono); font-size: 14px;
    color: var(--text-label); letter-spacing: 1px;
  }

  @media (max-width: 600px) {
    .project-info { flex-direction: column; gap: 2px; }
  }
</style>
